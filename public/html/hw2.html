<!DOCTYPE html>
<html>
    <head>
        <script src='../js/jquery-3.2.1.min.js'></script>
        <script>
            $(document).ready(function(event) {
                if(location.search.includes('?')){
                    let str = '&' + location.search.slice(1);
                    //console.log(str);
                    let answerKey = ['Chapter 2 Answer Key', 'abd', 'ab', 'abd', 'c', 'b', 'b', 'abcd', 'd', 'bc', 'ac']; // temporarily exposed, will ultimately be stored privately on server
                    let potentialAnswers = ['a', 'b', 'c', 'd', 'e']
                    function evaluateQuestion(questionNumber){
                        for(let j = 0; j < potentialAnswers.length; j++){
                            if(answerKey[questionNumber].includes(potentialAnswers[j]) != str.includes('&' + questionNumber + potentialAnswers[j])){
                                return 0;
                            }
                        }
                        //console.log('Question ' + questionNumber + ' correct!')
                        return 1;
                    }
                    let score = 0;
                    for (let i = 1; i <= 10; i++){
                        score += evaluateQuestion(i);
                    }
                    //console.log('You checked ' + (str.split('&').length - 3) + ' box(es).');
                    //console.log('You correctly answered ' + score + ' question(s).')
                    let maxScore = answerKey.length - 1;
                    if (score == maxScore) {
                        $('#message').text('You correctly answered all ' + maxScore + ' multiple-choice questions. Well done!')
                    } else {
                        $('#message').text('You correctly answered ' + score + ' out of ' + maxScore + ' multiple-choice questions.')
                    }
                    $('#evaluation').show();
                }
            });
        </script>
    </head>
    <body>
        <div id='evaluation' style='display:none'>
            <fieldset id='message'>
                Thank you for answering the review questions. Our system for evaluating your answers is currently under construction.<br>
            </fieldset><br>
        </div>
        The following questions may have more than one correct answer, or may have no correct answers. Choose all correct answers that apply.<br>
        <form>
            <br>1)	Select which TEM imaging parameter(s) is influenced by the electron source. 
            <br><input type='checkbox' id='1a' name='1a'></input>
            <label for='1a'>a)	Beam coherency</label><br>
            <input type='checkbox' id='1b' name='1b'></input>
            <label for='1b'>b)	Beam brightness</label><br>
            <input type='checkbox' id='1c' name='1c'></input>
            <label for='1c'>c)	Beam accelerating voltage</label><br>
            <input type='checkbox' id='1d' name='1d'></input>
            <label for='1d'>d)	Image magnification</label><br>
            <br>2)	Select the desired material property(ies) of an electron emitter
            <br><input type='checkbox' id='2a' name='2a'></input>
            <label for='2a'>a)	High melting point</label><br>
            <input type='checkbox' id='2b' name='2b'></input>
            <label for='2b'>b)	Low work function</label><br>
            <input type='checkbox' id='2c' name='2c'></input>
            <label for='2c'>c)	High work function</label><br>
            <input type='checkbox' id='2d' name='2d'></input>
            <label for='2d'>d)	High electrical conductivity</label><br>
            <br>3)	Select the difference(s) between a FEG and a thermionic source
            <br><input type='checkbox' id='3a' name='3a'></input>
            <label for='3a'>a)	Required extraction voltage</label><br>
            <input type='checkbox' id='3b' name='3b'></input>
            <label for='3b'>b)	Beam coherence</label><br>
            <input type='checkbox' id='3c' name='3c'></input>
            <label for='3c'>c)	Maximum beam current</label><br>
            <input type='checkbox' id='3d' name='3d'></input>
            <label for='3d'>d)	Source lifetime</label><br>
            <br>4)	The Wehnelt serves the following purpose(s)
            <br><input type='checkbox' id='4a' name='4a'></input>
            <label for='4a'>a)	Extracts electrons from the W filament tip</label><br>
            <input type='checkbox' id='4b' name='4b'></input>
            <label for='4b'>b)	Accelerates electrons to the desired beam energy</label><br>
            <input type='checkbox' id='4c' name='4c'></input>
            <label for='4c'>c)	Controls the area of electron extraction on the filament</label><br>
            <br>5)	The FEG anodes serve the following purpose(s)
            <br><input type='checkbox' id='5a' name='5a'></input>
            <label for='5a'>a)	Extracts electrons from the emitter</label><br>
            <input type='checkbox' id='5b' name='5b'></input>
            <label for='5b'>b)	Accelerates electrons to the desired beam energy</label><br>
            <input type='checkbox' id='5c' name='5c'></input>
            <label for='5c'>c)	Controls the area of electron extraction on the filament</label><br>
            <br>6)	“Saturation” of a LaB6 source refers to the following:
            <br><input type='checkbox' id='6a' name='6a'></input>
            <label for='6a'>a)	The extraction voltage that extracts the maximum beam current</label><br>
            <input type='checkbox' id='6b' name='6b'></input>
            <label for='6b'>b)	The heating current that extracts the maximum beam current</label><br>
            <input type='checkbox' id='6c' name='6c'></input>
            <label for='6c'>c)	The anode voltage that achieves the maximum accelerating voltage</label><br>
            <input type='checkbox' id='6d' name='6d'></input>
            <label for='6d'>d)	The Wehnelt bias that achieves the highest brightness</label><br>
            <br>7)	Ultra-high vacuum is required for cold FEG operation because:
            <br><input type='checkbox' id='7a' name='7a'></input>
            <label for='7a'>a)	Contaminant gases can cause high voltage arcing</label><br>
            <input type='checkbox' id='7b' name='7b'></input>
            <label for='7b'>b)	Contaminant gases reduce beam current stability</label><br>
            <input type='checkbox' id='7c' name='7c'></input>
            <label for='7c'>c)	Contaminant gases interact with the extracted electrons, reducing temporal coherence</label><br>
            <input type='checkbox' id='7d' name='7d'></input>
            <label for='7d'>d)	Contaminant gases reduce tip lifetime</label><br>
            <br>8)	Higher accelerating voltage causes the following:
            <br><input type='checkbox' id='8a' name='8a'></input>
            <label for='8a'>a)	Increases electron wavelength</label><br>
            <input type='checkbox' id='8b' name='8b'></input>
            <label for='8b'>b)	Increases beam emission current</label><br>
            <input type='checkbox' id='8c' name='8c'></input>
            <label for='8c'>c)	Decreases beam tip lifetime</label><br>
            <input type='checkbox' id='8d' name='8d'></input>
            <label for='8d'>d)	Improves image resolution</label><br>
            <br>9)	<b>Increasing</b> the extraction voltage causes the following:
            <br><input type='checkbox' id='9a' name='9a'></input>
            <label for='9a'>a)	Increases beam size</label><br>
            <input type='checkbox' id='9b' name='9b'></input>
            <label for='9b'>b)	Increases beam brightness</label><br>
            <input type='checkbox' id='9c' name='9c'></input>
            <label for='9c'>c)	Increases beam current</label><br>
            <input type='checkbox' id='9d' name='9d'></input>
            <label for='9d'>d)	Increases tip life</label><br>
            <br>10)	<b>Decreasing</b> the gun lens setting causes the following
            <br><input type='checkbox' id='10a' name='10a'></input>
            <label for='10a'>a)	Increases beam size</label><br>
            <input type='checkbox' id='10b' name='10b'></input>
            <label for='10b'>b)	Increases beam brightness</label><br>
            <input type='checkbox' id='10c' name='10c'></input>
            <label for='10c'>c)	Increases beam current</label><br>
            <input type='checkbox' id='10d' name='10d'></input>
            <label for='10d'>d)	Increases tip life</label><br>
            <br>Ex1) Example textarea question<br>
            <br><textarea rows='9' cols='30' id='ex1' name='ex1'></textarea><br>
            <br>Ex2) Example file upload question<br>
            <br><input type='file' id='ex2' name='ex2'></input><br>
            <div>
                <br><br>Practical questions:
                <br><br>1)	In the OEMP set the correct extraction voltage and gun lens for a given accelerating voltage.
                <br><br>2)	In the OEMP set the correct accelerating voltage for the following samples:
                <br>a)	Biological specimen embedded in polymer resin
                <br>b)	Beam sensitive metal
                <br>c)	Beam insensitive semiconductor
            </div><br>
            <div style='text-align: center'>
                <button type='submit'>Submit answers</button>
            </div>
        </form>
    </body>
</html>